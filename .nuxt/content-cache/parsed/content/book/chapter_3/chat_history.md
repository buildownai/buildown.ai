{"parsed":{"_path":"/book/chapter_3/chat_history","_dir":"chapter_3","_draft":false,"_partial":false,"_locale":"","title":"Add Chat History","description":"Learn how to implement chat functionality in your application by maintaining and sending message history to a language model.","keywords":["chat history","large language models","conversation context"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In this chapter, you will learn how to enhance your simple messaging app with chat history. We'll dive into the steps needed to remember past messages and send them along with new ones to the language model for more coherent responses."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You’ll start by defining a "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Message"}]},{"type":"text","value":" type that keeps track of who sent each message (user or assistant) and its content. Then, you will maintain an array called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"messages"}]},{"type":"text","value":" to store all conversation history. This allows us to pass the entire chat history to the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/api/chat"}]},{"type":"text","value":" endpoint when sending new messages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once we receive a response from the AI, it gets added back into our "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"messages"}]},{"type":"text","value":" array with the appropriate role set as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"'assistant'"}]},{"type":"text","value":". Finally, you will see how to display this chat history in your application so users can easily follow their conversation flow."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We’ll also explore the difference between using the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"generate"}]},{"type":"text","value":" and "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"chat"}]},{"type":"text","value":" endpoints. The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"generate"}]},{"type":"text","value":" endpoint is great for quick responses without context, while the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"chat"}]},{"type":"text","value":" endpoint provides a more natural interaction by considering all previous messages."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Additionally, you will understand how different roles like user, assistant, system, and function help maintain conversation context within your chat application. This knowledge will enable you to build more engaging and interactive AI-driven applications that feel truly conversational."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Ready to make your app smarter with chat history? Dive in and see how easy it is!"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[]}},"_type":"markdown","_id":"content:book:chapter_3:chat_history.md","_source":"content","_file":"book/chapter_3/chat_history.md","_stem":"book/chapter_3/chat_history","_extension":"md","sitemap":{"loc":"/book/chapter_3/chat_history"}},"hash":"4lVzCsF3sy"}